<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <title>-Bildarchiv JS-</title>

  <link rel="stylesheet" href="/static/lib/bootstrap/bootstrap.min.css" media="screen">
  <link rel="stylesheet" href="/static/lib/clusterize.css" media="screen">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.7.0/css/lightgallery.css">
  <link rel="stylesheet" href="/static/custom.css">

  <!-- Matomo -->
  <script type="text/javascript">
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function () {
      var u = "https://matomo.designone.ch/";
      _paq.push(['setTrackerUrl', u + 'matomo.php']);
      _paq.push(['setSiteId', '11']);
      var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];
      g.type = 'text/javascript'; g.async = true; g.src = u + 'matomo.js'; s.parentNode.insertBefore(g, s);
    })();
  </script>
  <noscript>
    <p><img src="https://matomo.designone.ch/matomo.php?idsite=11&amp;rec=1" style="border:0;" alt="" /></p>
  </noscript>
  <!-- End Matomo Code -->
</head>

<body>
  <!-- Main Navigation -->
  <div class="top main container-fluid d-flex flex-column">
    <div class="page-header d-flex sticky-top" id="banner">
      <h1 class="page-title"><a href="https://bildarchiv-js.ch/">Bildarchiv JS</a></h1>
      <div class="main-nav content-center d-flex mx-auto">
        <button class="btn main-nav-item active" data-toggle="tab" href="#search">
          Suche
        </button>
        <button class="btn main-nav-item" data-toggle="tab" href="#works">
          Resultate
        </button>
        <button class="btn main-nav-item" data-toggle="tab" href="#lists">
          Meine Liste
        </button>
      </div>
      <div class="content-right d-flex align-self-center">
        <button class="btn" id="random">
          Zufall
        </button>
        <button class="btn" id="help" data-toggle="modal" data-target="#helpModal">
          Hilfe
        </button>
      </div>
    </div>

    <!-- Search Form -->
    <div class="container container-fill main-nav-pane active" id="search">
      <form id="searchForm">
        <h2 class="hidden">Suche</h2>
        <div class="list-actions nav-tabs d-flex">
          <!-- Search Form Nav -->
          <div class="search-modes d-flex mr-auto">
            <a class="nav-item nav-link active" data-toggle="tab" href="#titleSearch">Werk</a>
            <a class="nav-item nav-link" data-toggle="tab" href="#contentSearch">Inhalt</a>
            <a class="nav-item nav-link" data-toggle="tab" href="#formSearch">Form</a>
          </div>
          <!-- Search Actions -->
          <div class="search-action d-flex">
            <select class="btn" id="searchCriteria">
              <option value="OR">Werk erfüllt ein Kriterium</option>
              <option value="AND">Werk erfüllt alle Kriterien</option>
            </select>
            <button class="btn">
              Ausgewählt: <span id="total">0</span>
            </button>
            <button class="btn btn-primary disable" id="start" data-toggle="tab" href="#gespeichert">
              Suchen</i>
            </button>
          </div>

        </div>

        <!-- Erweiterte Suche -->
        <div class="tab-content">
          <!-- Titel -->
          <div class="tab-pane active" id="titleSearch">

            <div class="form-group">
              <label class="col-form-label" for="inputTitel">
                <h5>Titel</h5>
              </label>
              <input name="Titel" autocomplete="off" autofocus placeholder="Titelsuche" type="text"
                class="searchOnEnter" />
              <script>
                let input = document.querySelector('input');

                input.onkeyup = function () {
                  let result = [];
                  if (input.value) {
                    for (word of titlelist_uniqueEntries) {
                      word = word.slice(5, -6); //removes <div></div> for search from word
                      if (input.value.length == 1) {
                        // option mit suche nach anfangsbuchstabe bei 1 buchstaben im feld
                        if (word.toLowerCase().startsWith(input.value.toLowerCase())) {
                          result.push('<div>' + word + '</div>');
                        }
                      } else {
                        // option mit suche als zeichenkette wenn mehr als 1buchstaben im feld sind
                        if (word.toLowerCase().indexOf(input.value.toLowerCase()) > -1) { //compares values
                          result.push('<div>' + word + '</div>');
                        }
                      }
                    }
                  } else {
                    // no value in found
                    result = titlelist_uniqueEntries;
                  }
                  clusterTitle.update(result);
                };
              </script>
              <!--HTML scroll clusterize area-->
              <div id="scrollAreaTitle" class="clusterize-scroll">
                <div id="contentAreaTitle" class="clusterize-content">
                  <div class="clusterize-no-data">
                    Lade titel…
                  </div>
                </div>
              </div>
            </div>

            <div class="form-group" data-cols="1" data-tag="standort" data-type="Standort">
            </div>

            <div class="form-group" data-cols="1" data-tag="Zusammenarbeit" data-type="Zus'arbeit">
            </div>

            <div class="form-group" data-cols="1" data-tag="status" data-type="Status">
            </div>

            <div class="form-group">
              <label class="col-form-label" for="inputJahr">
                <h5>Jahreszahl</h5>
              </label>
              <input placeholder="" id="inputYear" name="Jahr" type="text" />
              <script>
                let inputyear = document.querySelector('#inputYear');

                inputyear.onkeyup = function () {
                  let result = [];
                  if (inputyear.value) {
                    for (word of yearlist) {
                      word = word.slice(5, -6); //removes <div></div> for search from word
                      // option mit suche nach anfangsbuchstabe bei 1 buchstaben im feld
                      if (word.toLowerCase().startsWith(inputyear.value.toLowerCase())) {
                        result.push('<div>' + word + '</div>');
                      }
                    }
                  } else {
                    // no value in found
                    result = yearlist;
                  }
                  clusterYear.update(result);
                };
              </script>
              <div id="scrollAreaYear" class="clusterize-scroll-5">
                <div id="contentAreaYear" class="clusterize-content">
                  <div class="clusterize-no-data">Lade Jahre…</div>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label class="col-form-label" for="inputNummer">
                <h5>Werknummer</h5>
              </label>
            </div>
          </div>
          <!-- Inhalt -->
          <div class="tab-pane" id="contentSearch"> </div>
          <!-- Form -->
          <div class="tab-pane" id="formSearch"> </div>
        </div>
      </form>
    </div>

    <!-- Resultate / Werke -->
    <div class="container container-fill main-nav-pane" id="works">
      <div id="results">
        <h2 class="hidden">Werke</h2>
        <!-- Results Actions -->
        <div class="list-actions d-flex">
          <button class="btn" id="selectAllResults">Alle Bilder auswählen</button>
          <button class="btn ml-auto" id="restart">Reset</button>
        </div>
        <div class="row output tab-content">
          <div class="empty-state">Keine Werke gefunden…</div>
        </div>
        <div class="pagination">
          <button id="more" class="btn_bildarchiv" style="display:none">Mehr anzeigen</button>
        </div>
      </div>
    </div>

    <!-- Gespeicherte Liste -->
    <div class="container container-fill main-nav-pane" id="lists">
      <div id="savedList">
        <h2 class="hidden">Gespeichert</h2>
        <div class="list-actions d-flex">
          <button class="btn" id="deleteSavedList">Liste löschen</button>
          <button class="btn" id="exportSavedList">Liste exportieren</button>
          <button class="btn" id="importSavedList">Liste importieren</button>
        </div>
        <div class="row output tab-content">
          <div class="empty-state">Keine Werke gespeichert…</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Help Modal -->
  <div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="helpModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="helpModalLabel">Hilfe</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <ul>
            <li>Wählen Sie eine der drei Rubriken „Inhalt“, „Form“ oder „Werk" aus.</li>
            <li>Suchmodus:
              <ul>
                <li><b>Werk erfüllt ein Kriterium:</b> Sucht nach Werken mit "Menschen" ODER "Figurengruppen" und zeigt
                  beides in den Resultaten an.</li>
                <li><b>Werk erfüllt alle Kriterien:</b> Sucht nach Werken mit "Menschen" UND "Figurengruppen" und zeigt
                  nur genaue Treffer an. </li>
              </ul>
            <li>Klicken Sie auf „Anzeigen“, um die Auswahl anzuzeigen.</li>
            <li>Klicken Sie auf „Zufall“, um eine spontane Bildauswahl zu erhalten.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <footer class="footer container-fluid">
    <h6>Impressum:</h6>
    <div><a href="http://datalets.ch">Datalets</a> und <a href="http://www.redefine.studio">Redefine GmbH</a>. Dieses
      Projekt ist <a href="https://github.com/dataletsch/panoptikum">Open
        source</a>.</div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.0/lightgallery.min.js"></script>

  <script src="/static/lib/jquery-3.3.1.js"></script>
  <script src="/static/lib/clusterize.min.js"></script>
  <script src="/static/lib/bootstrap/bootstrap.min.js"></script>

  <script src="/static/search.js"></script>
  <script src="/static/site.js"></script>
</body>

</html>